"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9305],{2433:function(e,t,s){s.d(t,{Z:function(){return eo}});var n=s(57437),a=s(2265),r=s(10883),i=s(70996),l=s(69340),o=s(95171),c=s(40748),d=s(32191),u=s(34394),m=s(25810),p=s(4231),h=s(4964),g=s(8938),x=s(26262),v=s(90316),f=s(42709),b=s(58055),j=s(24687),w=s(307),y=s(95944),k=s.n(y),_=s(19383),C=s(48860),S=s(34096),I=s(49270),N=s(27924),D=s(16152),E=s(20517),T=s(8782),A=s(80605),P=s(89427),L=e=>{let{onSelectArticle:t,theme:s,isOpen:r,onClose:i}=e,[l,o]=a.useState([]),[c,d]=a.useState(!1),[u,p]=a.useState(""),[h,g]=a.useState(null),[x,v]=a.useState(1),[f,b]=a.useState(1),[j,w]=a.useState(!0),{data:y}=(0,A.useSession)(),k=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((j||!(t>1))&&!c){d(!0);try{var n,a,r,i,l,u,m;let c=await (0,P.Z)("GET","".concat("https://mercury.uzone.id/","api/v1/articles/baca-juga"),{search:e,page:t,limit:10},{accept:"application/json",Authorization:"Bearer ".concat(null==y?void 0:null===(n=y.user)||void 0===n?void 0:n.access_token)});if((null==c?void 0:c.status)===200){let e=null==c?void 0:null===(r=c.data)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.articles.map(e=>({label:e.post_title,value:e.post_title,post_slug:e.post_slug,featured_image:e.feature_img}));o(t=>s?[...t,...e]:e),b((null==c?void 0:null===(l=c.data)||void 0===l?void 0:null===(i=l.data)||void 0===i?void 0:i.total_pages)||1),w(t<(null==c?void 0:null===(m=c.data)||void 0===m?void 0:null===(u=m.data)||void 0===u?void 0:u.total_pages)),v(t)}}catch(e){}finally{d(!1)}}};return a.useEffect(()=>{let e=setTimeout(()=>{u?(v(1),w(!0),o([]),k(u,1,!1)):(o([]),w(!1))},500);return()=>{clearTimeout(e)}},[u]),(0,n.jsxs)(_.u_,{size:"xl",isOpen:r,onClose:i,children:[(0,n.jsx)(C.Z,{}),(0,n.jsxs)(S.h,{children:[(0,n.jsx)(I.x,{children:"Baca Juga"}),(0,n.jsx)(N.o,{}),(0,n.jsx)(D.f,{children:(0,n.jsx)(T.ZP,{styles:{control:e=>({...e,backgroundColor:"dark"===s?"#2D3748":"#fff",color:"dark"===s?"#fff":"#000"}),menu:e=>({...e,backgroundColor:"dark"===s?"#2D3748":"#fff"}),singleValue:e=>({...e,color:"dark"===s?"#fff":"#000"}),multiValue:e=>({...e,backgroundColor:"dark"===s?"#4A5568":"#E2E8F0",color:"dark"===s?"#fff":"#000"}),multiValueLabel:e=>({...e,color:"dark"===s?"#fff":"#000"}),input:e=>({...e,color:"dark"===s?"#fff":"#000"}),option:(e,t)=>{let{isFocused:n,isSelected:a}=t;return{...e,backgroundColor:a?"dark"===s?"#4A5568":"#E2E8F0":n?"dark"===s?"#3A4859":"#F7FAFC":"dark"===s?"#2D3748":"#fff",color:"dark"===s?"#fff":"#000"}},placeholder:e=>({...e,color:"dark"===s?"#A0AEC0":"#718096"})},options:l,isLoading:c,placeholder:"Search title...",onChange:g,onInputChange:p,onMenuScrollToBottom:()=>{!c&&j&&k(u,x+1,!0)}})}),(0,n.jsx)(E.m,{children:(0,n.jsx)(m.z,{colorScheme:"blue",onClick:()=>{t(h),i()},children:"Select"})})]})]})},M=s(72760),z=e=>{let{onSelectEmbed:t,theme:s,isOpen:r,onClose:i}=e,[l,o]=(0,a.useState)(""),[c,u]=(0,a.useState)("X"),[p,g]=(0,a.useState)(!1),x=(0,a.useCallback)(e=>new Promise((t,s)=>{let n=document.querySelector('script[src="'.concat(e,'"]'));n&&n.remove();let a=document.createElement("script");a.src=e,a.async=!0,a.onload=()=>{t()},a.onerror=e=>{s(e)},document.body.appendChild(a)}),[]),v=e=>({X:{src:"https://platform.twitter.com/widgets.js",init:()=>setTimeout(()=>{var e;return null===(e=window.twttr)||void 0===e?void 0:e.widgets.load()},100)},Instagram:{src:"https://www.instagram.com/embed.js",init:()=>setTimeout(()=>{var e;return null===(e=window.instgrm)||void 0===e?void 0:e.Embeds.process()},100)},Facebook:{src:"https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v12.0",init:()=>setTimeout(()=>{var e;return null===(e=window.FB)||void 0===e?void 0:e.XFBML.parse()},100)},Flickr:{src:"https://embedr.flickr.com/assets/client-code.js",init:()=>{}},TikTok:{src:"https://www.tiktok.com/embed.js",init:()=>{}},LinkedIn:{src:"https://platform.linkedin.com/in.js",init:()=>setTimeout(()=>{var e,t;null===(e=window.IN)||void 0===e||e.init(),null===(t=window.IN)||void 0===t||t.parse()},100)},Pinterest:{src:"https://assets.pinterest.com/js/pinit.js",init:()=>setTimeout(()=>{var e;return null===(e=window.PinUtils)||void 0===e?void 0:e.build()},100)},Reddit:{src:"https://embed.redditmedia.com/widgets/platform.js",init:()=>setTimeout(()=>{var e;return null===(e=window.redditmedia)||void 0===e?void 0:e.widgets.load()},100)}})[e],f=async()=>{try{g(!0);let e=v(c),s="<p><br></p>".concat(l,"<p><br></p>");t(s),"Flickr"!==c&&(await new Promise(e=>setTimeout(e,100)),await x(e.src),e.init()),o(""),i()}catch(e){}finally{g(!1)}};return(0,n.jsxs)(_.u_,{size:"xl",isOpen:r,onClose:i,closeOnOverlayClick:!p,closeOnEsc:!p,children:[(0,n.jsx)(C.Z,{}),(0,n.jsxs)(S.h,{children:[(0,n.jsx)(I.x,{children:"Embed Social Media"}),(0,n.jsx)(N.o,{isDisabled:p}),(0,n.jsxs)(D.f,{children:[(0,n.jsxs)(h.P,{placeholder:"Select platform",value:c,onChange:e=>u(e.target.value),mb:4,isDisabled:p,children:[(0,n.jsx)("option",{value:"X",children:"X (Twitter)"}),(0,n.jsx)("option",{value:"Instagram",children:"Instagram"}),(0,n.jsx)("option",{value:"Facebook",children:"Facebook"}),(0,n.jsx)("option",{value:"Flickr",children:"Flickr"}),(0,n.jsx)("option",{value:"TikTok",children:"TikTok"}),(0,n.jsx)("option",{value:"LinkedIn",children:"LinkedIn"}),(0,n.jsx)("option",{value:"Pinterest",children:"Pinterest"}),(0,n.jsx)("option",{value:"Reddit",children:"Reddit"})]}),(0,n.jsx)(d.g,{size:"sm",placeholder:(e=>{switch(e){case"X":return"Paste X (Twitter) embed code or tweet URL";case"Instagram":return"Paste Instagram embed code or post URL";case"Facebook":return"Paste Facebook embed code or post URL";case"Flickr":return"Paste Flickr embed code or image URL";case"TikTok":return"Paste TikTok embed code or video URL";case"LinkedIn":return"Paste LinkedIn embed code or post URL";case"Pinterest":return"Paste Pinterest embed code or pin URL";case"Reddit":return"Paste Reddit embed code or post URL";default:return"Paste embed code or URL here"}})(c),onChange:e=>o(e.target.value),value:l,resize:"none",rows:10,isDisabled:p})]}),(0,n.jsx)(E.m,{children:(0,n.jsx)(m.z,{colorScheme:"blue",onClick:f,isLoading:p,loadingText:"Loading Script",spinnerPlacement:"start",leftIcon:p?(0,n.jsx)(M.$,{size:"sm"}):void 0,isDisabled:!l||!c,children:"Select"})})]})]})},H=s(12125),R=s(68193),F=s(61273),B=s(25957),X=s(83930);function O(e){let{isOpen:t,onClose:s,setValue:i,onSelectImage:l}=e,{openMedia:o,seletectedImage:c}=(0,B.G)(),{imageTextEditor:u,setImageTextEditor:p,setIsInsertImage:h}=(0,X.k)(),[g,x]=a.useState("");return a.useEffect(()=>{c&&i("feature_img",c,{shouldValidate:!0})},[c,i]),(0,n.jsxs)(_.u_,{size:"lg",isOpen:t,onClose:s,scrollBehavior:"inside",children:[(0,n.jsx)(C.Z,{}),(0,n.jsxs)(S.h,{children:[(0,n.jsx)(I.x,{children:"Insert Image"}),(0,n.jsx)(N.o,{}),(0,n.jsxs)(D.f,{overflowY:"auto",children:[(0,n.jsxs)(H.B,{children:[(0,n.jsx)(r.I,{value:u,placeholder:"URL Image",onChange:e=>p(e.target.value)}),(0,n.jsx)(R.x,{children:(0,n.jsx)(m.z,{onClick:()=>{o(),s()},className:"!p-2",children:(0,n.jsx)(F.K7z,{className:"w-7 h-7"})})})]}),(0,n.jsx)(d.g,{onChange:e=>x(e.target.value),placeholder:"Caption",my:5,value:g})]}),(0,n.jsx)(E.m,{textAlign:"center",children:(0,n.jsx)(m.z,{mx:"auto",colorScheme:"red",onClick:()=>{l({image:u,caption:g}),s(),h(!1),x(""),p("")},children:"Insert"})})]})]})}function V(e){let{theme:t,setValue:s,trigger:r}=e,[i,o]=a.useState(""),[c,d]=a.useState(!1),[u,m]=a.useState(null),{isOpen:p,onOpen:h,onClose:g}=(0,l.q)(),{isOpen:x,onOpen:v,onClose:f}=(0,l.q)(),b=a.useRef(null),{dataPost:j,setIsInsertImage:y,isOpenImage:_,onOpenImage:C,onCloseImage:S}=(0,X.k)(),I=a.useMemo(()=>({events:{afterInit:e=>{b.current=e},beforePaste:e=>{let t=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("text/html"),n=s&&(s.includes("docs-internal-guid")||s.includes('id="docs-internal-guid')||s.includes("google-sheets")||s.includes("font-weight:700")||s.includes("font-weight: 700"));if(s){e.preventDefault();let a=N(s);if(n&&a){let e=document.createElement("div");e.innerHTML=a;let s=Array.from(e.querySelectorAll("*")).some(e=>{let t=e.getAttribute("style");return t&&t.includes("font-weight")&&!t.includes("font-weight: normal")}),n=e.querySelectorAll("strong, b").length>0,r=Array.from(e.querySelectorAll("span")).some(e=>{let t=e.getAttribute("style");return t&&(t.includes("font-weight:700")||t.includes("font-weight: 700"))});if(s||n||r){let e=t.split(/\n\s*\n/).map(e=>"<p>".concat(e.replace(/\n/g,"<br>"),"</p>")).join("");b.current.selection.insertHTML(e)}else b.current.selection.insertHTML(a)}else b.current.selection.insertHTML(a);return!1}if(t){e.preventDefault();let s=t.split(/\n\s*\n/).map(e=>"<p>".concat(e.replace(/\n/g,"<br>").replace(/ {2,}/g,e=>"&nbsp;".repeat(e.length)),"</p>")).join("");return b.current.selection.insertHTML(s),!1}}},iframeStyle:"\n                .social-embed-container {\n                    position: relative;\n                    display: block;\n                    clear: both;\n                    width: 100%;\n                    max-width: 550px;\n                    margin: 1em auto;\n                    min-height: 300px;\n                }\n                .twitter-tweet, \n                .instagram-media,\n                .facebook-post,\n                .tiktok-embed,\n                .linkedin-post,\n                .pinterest-pin,\n                .reddit-embed {\n                    margin: 0 auto !important;\n                }\n                .jodit-wysiwyg p {\n                    clear: both;\n                    margin: 1em 0;\n                }\n                /* Baca Juga box styling to prevent spacing issues */\n                .border-red-600 {\n                    margin-top: 2rem !important;\n                    margin-bottom: 2rem !important;\n                    clear: both !important;\n                    display: block !important;\n                }\n                /* Ensure paragraphs around Baca Juga maintain spacing */\n                .border-red-600 + p {\n                    margin-top: 1rem !important;\n                }\n                p + .border-red-600 {\n                    margin-top: 2rem !important;\n                }\n                ".concat("dark"===t?"\n                    .social-embed-container {\n                        background: rgba(255, 255, 255, 0.05);\n                    }\n                ":"","\n            "),afterInsertNode:e=>{var t,s,n,a;((null===(t=e.innerHTML)||void 0===t?void 0:t.includes("twitter-tweet"))||(null===(s=e.innerHTML)||void 0===s?void 0:s.includes("instagram-media"))||(null===(n=e.innerHTML)||void 0===n?void 0:n.includes("fb-post"))||(null===(a=e.innerHTML)||void 0===a?void 0:a.includes("tiktok-embed")))&&(window.twttr&&window.twttr.widgets.load(),window.instgrm&&window.instgrm.Embeds.process(),window.FB&&window.FB.XFBML.parse(),window.IN&&(window.IN.init(),window.IN.parse()))},askBeforePasteHTML:!1,askBeforePasteFromWord:!1,defaultActionOnPaste:"insert_clear_html",defaultActionOnPasteFromWord:"insert_clear_html",pastePlain:!1,toolbarSticky:!0,toolbarStickyOffset:350,readonly:!1,height:800,theme:"dark"===t?"jodit_dark":"default",hidePoweredByJodit:!0,showCharsCounter:!0,showWordsCounter:!0,placeholder:"Start writing here...",aiAssistant:!1,buttons:["undo","redo","|","bold","italic","underline","strikethrough","|","left","center","right","justify","|","ul","ol","fontsize","indent","outdent","|","table","link",{name:"Images",iconURL:"dark"===t?"https://cdn.jsdelivr.net/gh/metranet-1704/8d2a271545b09ffc20c93a85d68b8cdd@main/images/icons/image-gray.svg":"https://cdn.jsdelivr.net/gh/metranet-1704/8d2a271545b09ffc20c93a85d68b8cdd@main/images/icons/image-black.svg",exec:()=>{m(b.current.selection.save()),C(),y(!0)},tooltip:"Insert images"},"video","|","brush","source","preview","|"],extraButtons:[{name:"Paste Plain Text",exec:async()=>{try{let e=await navigator.clipboard.readText();if(e){let t=e.split(/\n\s*\n/).map(e=>"<p>".concat(e.replace(/\n/g,"<br>"),"</p>")).join("");b.current.selection.insertHTML(t)}}catch(s){var e;let t=b.current;null==t||null===(e=t.message)||void 0===e||e.info("Please use Ctrl+V to paste as plain text")}},tooltip:"Paste content as plain text (removes formatting)",iconURL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9ImN1cnJlbnRDb2xvciIgdmlld0JveD0iMCAwIDE2IDE2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik00IDJhMiAyIDAgMCAwLTIgMnY4YTIgMiAwIDAgMCAyIDJoOGEyIDIgMCAwIDAgMi0yVjRhMiAyIDAgMCAwLTItMkg0em0wIDJoOHY4SDR6bTIgMmE1IDUgMCAwIDEgNSA1SDlhMy4wMDEgMy4wMDEgMCAwIDAtMyAzVjZ6Ii8+PC9zdmc+"},{name:"Embed Socmed",exec:()=>{m(b.current.selection.save()),v()},tooltip:"Insert social media embed"},{name:"Baca Juga",exec:()=>{m(b.current.selection.save()),h()},tooltip:"Insert related article"}],disablePlugins:["about","add-new-line","ai-assistant","class-span","copyformat","focus","font","format-block","inline-popup","limit","mobile","powered-by-jodit","speech-recognize","spellcheck","symbols","xpath","wrap-nodes","image"],hotkeys:{"cmd+i,ctrl+i":{command:"italic",preventDefault:!0}},preserveSelection:!0}),[t,h,v,C,y]),N=e=>{let t=document.createElement("div");t.innerHTML=e;let s=e.includes("docs-internal-guid")||e.includes('id="docs-internal-guid')||e.includes("google-sheets")||e.includes("font-weight:700")||e.includes("font-weight: 700"),n=e=>!!["twitter-tweet","instagram-media","fb-post","tiktok-embed","linkedin-post","pinterest-pin","reddit-embed"].some(t=>{var s,n;return(null===(s=e.classList)||void 0===s?void 0:s.contains(t))||(null===(n=e.getAttribute("class"))||void 0===n?void 0:n.includes(t))}),a=e=>{var t;if(!n(e)){if(s){if("SPAN"===e.tagName){let t=e.getAttribute("style");if(t&&(t.includes("font-weight:700")||t.includes("font-weight: 700"))){let t=e.parentNode;if(t){for(;e.firstChild;)t.insertBefore(e.firstChild,e);e.remove();return}}}if("STRONG"===e.tagName||"B"===e.tagName){let t=e.parentNode;if(t){for(;e.firstChild;)t.insertBefore(e.firstChild,e);e.remove();return}}}if("A"===e.tagName||(null===(t=e.classList)||void 0===t?void 0:t.contains("social-embed-container"))||["class","style","lang","link","vlink","xmlns:w","xmlns:o","xmlns:m","xmlns:v","id","dir"].forEach(t=>{e.removeAttribute(t)}),"A"===e.tagName){let t=e.getAttribute("href");Array.from(e.attributes).forEach(t=>{e.removeAttribute(t.name)}),t&&e.setAttribute("href",t)}Array.from(e.children).forEach(e=>{a(e)})}};a(t);let r=e=>{Array.from(e.children).forEach(e=>{var t,s;if("P"===e.tagName&&!(null===(t=e.textContent)||void 0===t?void 0:t.trim())){e.remove();return}if("SPAN"===e.tagName&&!e.getAttribute("style")&&(null===(s=e.parentElement)||void 0===s?void 0:s.tagName)!=="A"){let t=e.parentNode;if(t){for(;e.firstChild;)t.insertBefore(e.firstChild,e);e.remove()}}r(e)})};return r(t),t.innerHTML};return a.useEffect(()=>{d(!0),j?o(j.post_content):o("")},[j]),(0,n.jsx)(n.Fragment,{children:c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(L,{theme:t,isOpen:p,onClose:g,onSelectArticle:e=>{let t=b.current;if(null==t?void 0:t.selection){let s='\n            <p><br></p>\n            <div class="p-0 px-5 pb-4 border-l-4 border-red-600 mb-8 mt-8 bg-transparent clear-both" style="margin-top: 2rem !important; margin-bottom: 2rem !important; clear: both !important;">\n                <h4 class="font-bold text-lg mb-4 text-red-600">Baca Juga :</h4>\n                <div class="float-left">\n                    <a href="https://uzone.id/'.concat(e.post_slug,'" target="_blank">\n                        <img src="').concat(e.featured_image,'" alt="Images" title="').concat(e.label,'" class="w-28 h-20 object-cover rounded-lg">\n                    </a>\n                </div>\n                <div class="relative ml-32">\n                    <h5 class="font-bold text-base mt-5 underline">\n                        <a href="https://uzone.id/').concat(e.post_slug,'" target="_blank">').concat(e.label,'</a>\n                    </h5>\n                </div>\n                <div class="clear-both h-0"></div>\n            </div>\n            <p><br></p>\n        ');t.selection.restore(u),t.selection.insertHTML(s);let n=t.selection.createRange(),a=t.selection.current();(null==a?void 0:a.parentElement)&&(n.setEndAfter(a.parentElement),n.collapse(!1),t.selection.selectRange(n))}}}),(0,n.jsx)(z,{theme:t,isOpen:x,onClose:f,onSelectEmbed:e=>{let t=b.current;if(null==t?void 0:t.selection){t.selection.restore(u),t.selection.insertHTML('\n            <p><br></p>\n            <div class="relative block clear-both w-full max-w-2xl mx-auto my-4 min-h-[300px] bg-transparent social-embed-container">\n                '.concat(e,"\n            </div>\n            <p><br></p>\n        "));let s=t.selection.createRange(),n=t.selection.current();(null==n?void 0:n.parentElement)&&(s.setEndAfter(n.parentElement),s.collapse(!1),t.selection.selectRange(s))}}}),(0,n.jsx)(O,{isOpen:_,onClose:S,setValue:s,onSelectImage:e=>{let t=b.current;if(null==t?void 0:t.selection){let s='\n                <figure class="inline-block">\n                    <img src="'.concat(e.image,'" alt="').concat(e.caption,'" title="').concat(e.caption,'">\n                    <figcaption class="text-center mb-5 text-xs italic text-gray-400">').concat(e.caption,"</figcaption>\n                </figure>\n                ");t.selection.restore(u),t.selection.insertHTML(s)}}}),(0,n.jsx)(k(),{value:i,config:I,onBlur:e=>{o(e),r("post_content"),s("post_content",e,{shouldValidate:!0})}})]}):(0,n.jsx)(w.E,{size:"xs",isIndeterminate:!0})})}function U(e){let{theme:t,setValue:s,trigger:a,saveContentToDraft:r,watch:i}=e;return(0,n.jsx)(V,{theme:t,setValue:s,trigger:a,saveContentToDraft:r,watch:i})}function G(e){var t;let{errors:s,control:r,theme:i,Controller:l,setValue:d,session:u,trigger:m}=e,{dataPost:p}=(0,X.k)(),[h,g]=a.useState([]),[x,v]=a.useState([]),[f,b]=a.useState(""),j={control:e=>({...e,backgroundColor:"dark"===i?"#2D3748":"#fff",color:"dark"===i?"#fff":"#000"}),menu:e=>({...e,backgroundColor:"dark"===i?"#2D3748":"#fff"}),singleValue:e=>({...e,color:"dark"===i?"#fff":"#000"}),multiValue:e=>({...e,backgroundColor:"dark"===i?"#4A5568":"#E2E8F0",color:"dark"===i?"#fff":"#000"}),multiValueLabel:e=>({...e,color:"dark"===i?"#fff":"#000"}),input:e=>({...e,color:"dark"===i?"#fff":"#000"}),option:(e,t)=>{let{isFocused:s,isSelected:n}=t;return{...e,backgroundColor:n?"dark"===i?"#4A5568":"#E2E8F0":s?"dark"===i?"#3A4859":"#F7FAFC":"dark"===i?"#2D3748":"#fff",color:"dark"===i?"#fff":"#000"}},placeholder:e=>({...e,color:"dark"===i?"#A0AEC0":"#718096"})},w=e=>({label:e,value:e.toLowerCase().replace(/\W/g,"-")}),y=async e=>{var t;let s=await (0,P.Z)("GET","".concat("https://mercury.uzone.id/","api/v1/tags/"),{page:1,limit:100,search:e},{accept:"application/json",Authorization:"Bearer ".concat(null==u?void 0:null===(t=u.user)||void 0===t?void 0:t.access_token)});(null==s?void 0:s.status)===200&&g(s.data.data.tags.map(e=>({label:e.name,value:e.name})))},k=e=>{if(f&&(","===e.key||"Enter"===e.key)){if(e.preventDefault(),!x.find(e=>e.label.toLowerCase()===f.toLowerCase())){let e=[...x,w(f)];v(e),d("post_tag",e,{shouldValidate:!0}),m("post_tag")}b("")}};return a.useEffect(()=>{if(p){var e;let t=null===(e=p.post_tag)||void 0===e?void 0:e.map(e=>({label:e,value:e}));g(t||[]),v(t||[]),d("post_tag",t)}else g([]),v([])},[p]),(0,n.jsxs)(o.NI,{isInvalid:!!s.post_tag,mb:4,children:[(0,n.jsx)(c.l,{children:"Tag"}),(0,n.jsx)(l,{name:"post_tag",control:r,render:e=>{let{field:{onChange:t,value:s,...a}}=e;return(0,n.jsx)(T.ZP,{...a,isMulti:!0,styles:j,options:h,placeholder:"Select or type tags...",onChange:e=>{let s=e||[];v(s),t(s),m("post_tag")},onInputChange:(e,t)=>{let{action:s}=t;"input-change"===s&&(b(e),e&&y(e))},onKeyDown:k,inputValue:f,value:x,isClearable:!0,menuPlacement:"auto",theme:e=>({...e,colors:{...e.colors,primary:"#4A5568",primary25:"dark"===i?"#3A4859":"#F7FAFC",neutral0:"dark"===i?"#2D3748":"#fff",neutral80:"dark"===i?"#fff":"#000"}})})}}),(0,n.jsx)("p",{className:"text-sm text-red-500",children:(null===(t=s.post_tag)||void 0===t?void 0:t.message)&&"Tag is required and must be at least 1 tag."})]})}s(98983);var J=s(33145),q=s(25922),Y=s(99376);let W=a.createContext({isSlugManuallyEdited:!1,setIsSlugManuallyEdited:e=>{}});function Z(e){let{theme:t,setValue:s,trigger:r,Controller:i,control:l,isEdit:o,errors:c,postStatus:d}=e,[u,m]=a.useState(""),[p,h]=a.useState(!1),[g,x]=a.useState(!1),[v,f]=a.useState(!1),b=a.useRef(null),{dataPost:j}=(0,X.k)(),y=(0,Y.useSearchParams)().get("isDraft");a.useEffect(()=>{let e=()=>{x(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let _=e=>e.replace(/<[^>]*>/g,"").trim().toLowerCase().replace(/&nbsp;/g,"-").replace(/ /g,"-").replace(/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),[C,S]=a.useState(!1),I=a.useMemo(()=>({isSlugManuallyEdited:C,setIsSlugManuallyEdited:S}),[C]),N=a.useRef(!1);a.useEffect(()=>()=>{if(!N.current&&(N.current=!0,S(!1),!o))try{setTimeout(()=>{s("post_slug","")},0)}catch(e){}},[s,o,S]);let D=a.useCallback(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(m(e),s("post_title",e,{shouldValidate:!0}),r("post_title"),t&&f(!0),!o||(y||"draft"===d)&&!C)try{let t=_(e);s("post_slug",t)}catch(e){}},[s,r,o,y,C,d]),E=a.useCallback(()=>{b.current&&(b.current.value=""),m(""),h(!1),S(!1),M(!1),f(!1),P(null)},[]);a.useEffect(()=>()=>{E()},[E]);let T=a.useMemo(()=>({events:{afterInit:e=>{b.current=e,(null==e?void 0:e.workplace)&&(e.workplace.style.minHeight=g?"120px":"80px",e.workplace.style.height=g?"120px":"80px",e.workplace.style.maxHeight=g?"120px":"80px")},change:e=>{e.length>70?b.current.currentPlace.container.style.border="1px solid red":b.current.currentPlace.container.style.border="1px solid #dadada"},beforePaste:e=>{e.preventDefault();let t=e.clipboardData.getData("text/plain");return t&&b.current.selection.insertHTML(t),!1},beforeDestroy:()=>{E()}},askBeforePasteHTML:!1,askBeforePasteFromWord:!1,defaultActionOnPaste:"insert_only_text",defaultActionOnPasteFromWord:"insert_only_text",toolbarSticky:!0,toolbarStickyOffset:80,readonly:!1,height:g?"120px":"80px",minHeight:g?"120px":"80px",maxHeight:g?"120px":"80px",theme:"dark"==t?"jodit_dark":"default",hidePoweredByJodit:!0,showCharsCounter:!0,showWordsCounter:!0,placeholder:"Original Title",aiAssistant:!1,buttons:["bold","italic","underline","strikethrough"],statusbar:!1,allowResizeY:!1,style:{textarea:{height:g?"120px":"80px",minHeight:g?"120px":"80px",maxHeight:g?"120px":"80px"}},disablePlugins:["about","add-new-line","ai-assistant","class-span","clipboard","copyformat","focus","font","resize","format-block","inline-popup","limit","mobile","powered-by-jodit","speech-recognize","spellcheck","symbols","xpath","wrap-nodes"],hotkeys:{"cmd+i,ctrl+i":{command:"italic",preventDefault:!0}},preserveSelection:!0}),[t,E,g]),[A,P]=a.useState(null),[L,M]=a.useState(!1);return a.useEffect(()=>{let e=j&&(j.id!==A||!L);if(j&&e){var t,n,a;b.current&&(b.current.value=null!==(t=j.post_title)&&void 0!==t?t:""),m(null!==(n=j.post_title)&&void 0!==n?n:""),o&&j.post_slug?s("post_slug",j.post_slug):D(null!==(a=j.post_title)&&void 0!==a?a:"",!1),P(j.id),M(!0),f(!1)}else o&&!j&&E();h(!0)},[j,E,D,o,s,S,y,L,A]),a.useEffect(()=>{o&&j&&L&&j.id===A&&("draft"===d||y?S(!1):S(!0))},[d,o,j,y,S,L,A]),a.useEffect(()=>{var e;(null===(e=b.current)||void 0===e?void 0:e.workplace)&&(b.current.workplace.style.minHeight=g?"120px":"80px",b.current.workplace.style.height=g?"120px":"80px",b.current.workplace.style.maxHeight=g?"120px":"80px")},[g]),(0,n.jsx)(W.Provider,{value:I,children:p?(0,n.jsx)(i,{name:"post_title",control:l,rules:{required:"This field is required"},render:e=>{let{field:{onChange:t,value:s}}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)(k(),{value:u,config:T,onBlur:e=>{b.current&&(b.current.value=e,D(e,!0))}}),u.length>70&&(0,n.jsx)("p",{className:"float-right text-sm italic font-semibold text-red-500",children:"characters more than 70 characters"})]})}}):(0,n.jsx)(w.E,{size:"xs",isIndeterminate:!0})})}var K=s(85330),$=s(821),Q=s(35586);function ee(e){let{isOpen:t,onClose:s}=e,{setIsModalMedia:r}=(0,B.G)(),{isInsertImage:i}=(0,X.k)(),{setInMediaModal:l}=(0,Q.b)();return a.useEffect(()=>{if(t)l(!0);else{let e=setTimeout(()=>{l(!1)},500);return()=>clearTimeout(e)}},[t,l]),(0,n.jsx)(K.h,{children:(0,n.jsxs)(_.u_,{isOpen:t,onClose:()=>{s(),r()},scrollBehavior:"inside",children:[(0,n.jsx)(C.Z,{}),(0,n.jsxs)(S.h,{width:{base:"full",md:"80%"},height:{base:"full",md:"80%"},maxWidth:"none",children:[(0,n.jsx)(I.x,{children:i?"Insert/Edit Image":"Media Gallery"}),(0,n.jsx)(N.o,{}),(0,n.jsx)(D.f,{className:"",children:(0,n.jsx)($.default,{})})]})]})})}var et=s(93088);function es(e){let{register:t,errors:s,watch:i,session:l,setValue:d}=e,u=i("contributor_name")||"",[m,p]=a.useState("0"),[g,x]=a.useState(""),[v,b]=a.useState([]);return a.useEffect(()=>{u?(p("1"),x(v.some(e=>"".concat(e.first_name," ").concat(e.last_name)===u)?"Writer":"Contributor")):(p("0"),x(""))},[u,v]),a.useEffect(()=>{let e=async()=>{var e;let t=await (0,P.Z)("GET","".concat("https://mercury.uzone.id/","api/v1/articles/authors"),{},{accept:"application/json",Authorization:"Bearer ".concat(null==l?void 0:null===(e=l.user)||void 0===e?void 0:e.access_token)});200===t.status&&b(t.data.data)};l&&e()},[l]),(0,n.jsxs)(o.NI,{isInvalid:!!s.post_slug,mb:4,children:[(0,n.jsx)(c.l,{children:"Post as other writers / contributors"}),(0,n.jsxs)("div",{className:"flex gap-7",children:[(0,n.jsx)(f.E,{my:"auto",value:m,onChange:e=>p(e),children:(0,n.jsxs)(et.K,{spacing:5,direction:"row",children:[(0,n.jsx)(j.Y,{colorScheme:"red",value:"0",children:"No"}),(0,n.jsx)(j.Y,{colorScheme:"green",value:"1",children:"Yes"})]})}),"1"===m&&(0,n.jsxs)(h.P,{maxW:200,onChange:e=>x(e.target.value),value:g,children:[(0,n.jsx)("option",{value:"",children:"Select an Author"}),(0,n.jsx)("option",{value:"Writer",children:"Writer"}),(0,n.jsx)("option",{value:"Contributor",children:"Contributor"})]}),"1"===m&&"Writer"===g?(0,n.jsxs)(h.P,{...t("contributor",{required:"Please input contributors"}),value:u,maxW:200,onChange:e=>{d("contributor_name",e.target.value,{shouldValidate:!0})},children:[(0,n.jsx)("option",{value:"",children:"Select a contributor"}),v.map(e=>(0,n.jsx)("option",{value:"".concat(e.first_name," ").concat(e.last_name),children:"".concat(e.first_name," ").concat(e.last_name)},e.id))]}):"1"===m&&"Contributor"===g&&(0,n.jsx)(r.I,{placeholder:"contributor",...t("contributor",{required:"Please input contributor"})})]})]})}var en=s(85994),ea=s.n(en);s(21005);var er=s(71096),ei=s.n(er);function el(e){let{register:t,errors:s,isEdit:l}=e,{isSlugManuallyEdited:o,setIsSlugManuallyEdited:c}=(0,a.useContext)(W),{dataPost:d}=(0,X.k)(),u=a.useRef(!1);return a.useEffect(()=>{l||u.current||(u.current=!0,setTimeout(()=>{let e=document.getElementById("post_slug_input");e&&(e.value="")},0))},[l]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.I,{placeholder:"Slug",id:"post_slug_input",...t("post_slug",{required:"Please input slug!"}),onChange:e=>{o||c(!0)}}),(0,n.jsxs)(i.xu,{fontSize:"xs",fontStyle:"italic",children:["* Auto-generated from title, but can be manually edited",o&&d?" (using original or manually edited slug)":""]})]})}function eo(e){var t,s,w,y,k,_,C,S,I,N,D;let{register:E,errors:T,session:A,control:P,setValue:L,Controller:M,trigger:z,isLoading:H,setIsModalMedia:R,seletectedImage:X,openFeatureImage:O,watch:V,useFieldArray:W,saveContentToDraft:K,isEdit:$}=e,{theme:Q}=(0,q.F)(),et=V("post_type"),en=V("post_gallery"),er=V("post_status"),eo=V("post_publish_date"),{isOpenMedia:ec,openMedia:ed,closeMedia:eu,onOpenGallery:em,gallery:ep,setGallery:eh}=(0,B.G)(),{fields:eg,remove:ex}=W({control:P,name:"post_gallery"}),{isOpen:ev,onToggle:ef}=(0,l.q)(),[eb,ej]=a.useState(eo?ei()(eo,"YYYY-MM-DD HH:mm:ss").toDate():new Date),[ew,ey]=a.useState(eo?ei()(eo,"YYYY-MM-DD HH:mm:ss").toDate():new Date),ek=new Date;ek.setHours(ek.getHours()+24);let e_={4:"Games",9:"Automotive",15:"Berita Pilihan",16:"Headline",24:"Ramadan",27:"Startup",28:"Telco",29:"Gadget",30:"Digilife",48:"Ramadan Vibes",36:"Ngabubutips",38:"Tips & Reco's",43:"Review",44:"Timeless",46:"Bremm Journey",47:"Govtech"},eC=(0,Y.useSearchParams)(),eS=eC.get("aa"),eI=eC.get("isDraft");return a.useEffect(()=>{Array.isArray(ep)&&ep.length>0&&L("post_gallery",ep.map((e,t)=>{var s;return{img:e.img,caption:(null==en?void 0:null===(s=en[t])||void 0===s?void 0:s.caption)||""}}),{shouldValidate:!0})},[ep]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ee,{isOpen:ec,onClose:eu}),(0,n.jsxs)("div",{className:"col-span-2 p-4 bg-white border border-gray-200 rounded-lg shadow-sm lg:mr-3 dark:border-gray-700 sm:p-6 dark:bg-gray-800",children:[(0,n.jsxs)(o.NI,{className:"mb-6",isInvalid:!!T.post_title,mb:4,children:[(0,n.jsx)(c.l,{children:"Title"}),(0,n.jsx)(Z,{trigger:z,theme:Q,setValue:L,Controller:M,control:P,errors:T,isEdit:$,postStatus:er}),(0,n.jsx)(i.xu,{fontSize:"xs",fontStyle:"italic",children:"* Max 70 characters"})]}),(0,n.jsxs)(o.NI,{isInvalid:!!T.post_excerp,mb:4,children:[(0,n.jsx)(c.l,{children:"Article Description"}),(0,n.jsx)(d.g,{placeholder:"Summary Article",rows:4,maxLength:300,...E("post_excerp",{required:"Please input summary!",maxLength:{value:300,message:"Summary cannot exceed 160 characters"}})}),(0,n.jsx)(i.xu,{fontSize:"xs",fontStyle:"italic",children:"* Max 160 characters"})]}),(0,n.jsx)(es,{register:E,errors:T,watch:V,session:A,setValue:L}),(0,n.jsxs)(o.NI,{isInvalid:!!T.post_content,mb:4,children:[(0,n.jsx)(c.l,{children:"Content"}),(0,n.jsx)(U,{trigger:z,theme:Q,setValue:L,saveContentToDraft:K,watch:V}),(0,n.jsx)(u.J1,{children:(null===(t=T.post_content)||void 0===t?void 0:t.message)&&"string"==typeof T.post_content.message&&T.post_content.message})]}),(0,n.jsxs)("div",{className:"p-3 border rounded-md",children:[(0,n.jsx)("p",{className:"text-xl font-semibold",children:"Preview Google"}),(0,n.jsx)(m.z,{onClick:ef,my:4,colorScheme:"blue",children:"Preview"}),(0,n.jsxs)(p.U,{in:ev,animateOpacity:!0,children:[(0,n.jsxs)("div",{className:"p-3 border rounded-md",children:[(0,n.jsxs)("p",{className:"text-xs",children:["https://uzone.id/",V("post_slug")]}),(0,n.jsx)("p",{className:"text-xl text-blue-600",children:V("post_title")}),(0,n.jsx)("p",{className:"text-sm",children:V("post_excerp")})]}),(0,n.jsxs)("div",{className:"p-3 mt-6 border rounded-md",children:[(0,n.jsx)("p",{className:"mb-3 text-base",children:"Notes"}),(0,n.jsxs)("p",{className:"text-sm",children:["Title Length: ",null===(s=V("post_title"))||void 0===s?void 0:s.length," / 70 Characters"]}),(0,n.jsxs)("p",{className:"my-3 text-sm",children:["Description Length:"," ",null===(w=V("post_excerp"))||void 0===w?void 0:w.length," / 160 Characters"]}),(0,n.jsxs)("p",{className:"text-sm",children:["Content Length: ",null===(y=V("post_content"))||void 0===y?void 0:y.length]})]})]})]})]}),(0,n.jsxs)("div",{className:"p-4 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 sm:p-6 dark:bg-gray-800",children:[(0,n.jsxs)(o.NI,{isInvalid:!!T.post_slug,mb:4,children:[(0,n.jsx)(c.l,{children:"Slug"}),(0,n.jsx)(el,{register:E,errors:T,isEdit:$})]}),(0,n.jsxs)(o.NI,{isInvalid:!!T.post_type,mb:4,children:[(0,n.jsx)(c.l,{children:"Type"}),(0,n.jsxs)(h.P,{...E("post_type",{required:"Please input the type!"}),children:[(0,n.jsx)("option",{value:"1",children:"Default"}),(0,n.jsx)("option",{value:"2",children:"Video"}),(0,n.jsx)("option",{value:"3",children:"Gallery"})]})]}),(null==et?void 0:et.toString())==="2"&&(0,n.jsxs)(o.NI,{isInvalid:!!T.post_video_url,mb:4,children:[(0,n.jsx)(c.l,{children:"Video URL"}),(0,n.jsx)(r.I,{type:"url",placeholder:"Video URL",...E("post_video_url",{required:"Please input video URL!"})})]}),(null==et?void 0:et.toString())==="3"&&(0,n.jsx)(m.z,{leftIcon:(0,n.jsx)(F.K7z,{}),colorScheme:"teal",variant:"outline",onClick:()=>{ed(),em()},className:"my-3",children:"From Gallery"}),eg.map((e,t)=>(0,n.jsxs)("div",{className:"p-3 my-1 border rounded-lg shadow-sm",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,n.jsx)("div",{className:"relative aspect-video",children:(0,n.jsx)(J.default,{src:e.img,width:100,height:60,alt:"Gallery image ".concat(t+1),className:"object-cover w-full h-full rounded-sm"})}),(0,n.jsx)("div",{className:"flex flex-col h-full",children:(0,n.jsx)("div",{className:"flex-grow overflow-hidden",children:(0,n.jsx)(d.g,{...E("post_gallery.".concat(t,".caption")),placeholder:"Enter caption...",size:"sm",resize:"none",maxH:"inherit",height:"inherit",sx:{height:"100%",minHeight:"0",maxHeight:"none"}})})})]}),(0,n.jsx)(m.z,{type:"button",onClick:()=>{ex(t),eh(en.filter((e,s)=>s!==t).map(e=>({img:e.img,caption:e.caption})))},colorScheme:"red",size:"sm",className:"w-full my-2",children:"Remove Image"})]},e.id)),(0,n.jsxs)(o.NI,{isInvalid:!!T.post_category,mb:4,children:[(0,n.jsx)(c.l,{children:"Category"}),(0,n.jsxs)("div",{className:"border border-gray-200",children:[(0,n.jsx)("div",{className:"p-2 bg-white border-b border-gray-200 dark:bg-gray-800",children:(0,n.jsx)(M,{name:"post_category_id",control:P,render:e=>{let{field:t}=e;return(0,n.jsx)(g.c,{...t,colorScheme:"red",defaultValue:["15"],onChange:e=>{L("post_category",e.map(e=>e_[e]),{shouldValidate:!0}),t.onChange(e)},children:(0,n.jsxs)(x.g,{fontWeight:"500",align:"start",spacing:2,children:[(0,n.jsx)(v.X,{value:"15",children:"Berita Pilihan"}),(0,n.jsx)(v.X,{value:"16",children:"Headline"})]})})}})}),(0,n.jsx)("div",{className:"p-2 h-[200px] overflow-y-auto",children:(0,n.jsx)(M,{name:"post_category_id",control:P,render:e=>{let{field:t}=e;return(0,n.jsx)(g.c,{...t,colorScheme:"red",onChange:e=>{L("post_category",e.map(e=>e_[e]),{shouldValidate:!0}),t.onChange(e)},children:(0,n.jsxs)(x.g,{align:"start",spacing:2,children:[(0,n.jsx)(v.X,{value:"4",children:"Games"}),(0,n.jsx)(v.X,{value:"9",children:"Automotive"}),(0,n.jsx)(v.X,{value:"24",children:"Ramadan"}),(0,n.jsx)(v.X,{value:"27",children:"Startup"}),(0,n.jsx)(v.X,{value:"28",children:"Telco"}),(0,n.jsx)(v.X,{value:"29",children:"Gadget"}),(0,n.jsx)(v.X,{value:"30",children:"Digilife"}),(0,n.jsx)(v.X,{value:"48",children:"Ramadan Vibes"}),(0,n.jsx)(v.X,{value:"36",children:"Ngabubutips"}),(0,n.jsx)(v.X,{value:"38",children:"Tips & Reco's"}),(0,n.jsx)(v.X,{value:"43",children:"Review"}),(0,n.jsx)(v.X,{value:"44",children:"Timeless"}),(0,n.jsx)(v.X,{value:"46",children:"Bremm Journey"}),(0,n.jsx)(v.X,{value:"47",children:"Govtech"})]})})}})})]}),(0,n.jsx)(u.J1,{children:(null===(k=T.post_category)||void 0===k?void 0:k.message)&&"string"==typeof T.post_category.message&&T.post_category.message})]}),(0,n.jsxs)(o.NI,{isInvalid:!!T.post_publisher,mb:4,children:[(0,n.jsx)(c.l,{children:"Publish On"}),(0,n.jsx)(v.X,{isChecked:(null===(_=V("post_publisher"))||void 0===_?void 0:_.length)===5,onChange:e=>{L("post_publisher",e.target.checked?["1","6","7","9","10"]:[],{shouldValidate:!0})},colorScheme:"red",mb:2,children:"Check All"}),(0,n.jsx)("div",{className:"border border-gray-200 p-2 h-[270px] overflow-y-auto",children:(0,n.jsx)(M,{name:"post_publisher",control:P,render:e=>{let{field:t}=e;return(0,n.jsx)(g.c,{...t,colorScheme:"red",onChange:e=>{L("post_publisher",e,{shouldValidate:!0}),t.onChange(e)},children:(0,n.jsxs)(x.g,{align:"start",children:[(0,n.jsx)(v.X,{value:"1",children:"Uzone"}),(0,n.jsx)(v.X,{value:"6",children:"Internet Positif"}),(0,n.jsx)(v.X,{value:"7",children:"Mercusuar"}),(0,n.jsx)(v.X,{value:"9",children:"Wifi ID"}),(0,n.jsx)(v.X,{value:"10",children:"Internet Filtering"}),(0,n.jsx)(v.X,{value:"22",children:"RCTI+"}),(0,n.jsx)(v.X,{value:"23",children:"Diarium"}),(0,n.jsx)(v.X,{value:"24",children:"Cazbond"})]})})}})}),(0,n.jsx)(u.J1,{children:(null===(C=T.post_publisher)||void 0===C?void 0:C.message)&&"string"==typeof T.post_publisher.message&&T.post_publisher.message})]}),(0,n.jsx)(G,{session:A,control:P,errors:T,theme:Q,Controller:M,setValue:L,trigger:z}),(0,n.jsxs)(o.NI,{isInvalid:!!T.post_status,mb:4,children:[(0,n.jsx)(c.l,{children:"Status"}),(0,n.jsx)(M,{name:"post_status",control:P,rules:{required:"Please select the status!"},render:e=>{var t,s;let{field:a}=e;return(0,n.jsx)(f.E,{...a,colorScheme:"red",onChange:e=>{a.onChange(e),L("post_status",e)},children:(0,n.jsxs)(b.U,{spacing:"24px",children:[(0,n.jsx)(j.Y,{isDisabled:eS&&!eI&&"publish"==er&&(null==A?void 0:null===(t=A.user)||void 0===t?void 0:t.privilege_id)!==1,value:"draft",children:"Draft"}),(0,n.jsx)(j.Y,{isDisabled:eS&&!eI&&"publish"==er&&(null==A?void 0:null===(s=A.user)||void 0===s?void 0:s.privilege_id)!==1,value:"scheduled",children:"Schedule"}),(0,n.jsx)(j.Y,{value:"publish",children:"Publish"})]})})}}),"scheduled"===er&&(0,n.jsx)(ea(),{className:"mt-4 bg-white dark:bg-gray-800 !w-[170px] !p-1",selected:ew,onChange:e=>{ey(e),L("post_publish_date",e)},timeInputLabel:"Time:",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:10,dateFormat:"dd-MM-yyyy HH:mm",maxDate:ek,minDate:new Date,minTime:(null==ew?void 0:ew.toDateString())===new Date().toDateString()?new Date:new Date(new Date().setHours(0,0)),maxTime:new Date(new Date().setHours(23,59)),filterTime:e=>{let t=new Date(e),s=new Date;return(null==ew?void 0:ew.toDateString())!==s.toDateString()||t>=s}}),(0,n.jsx)(u.J1,{children:(null===(S=T.post_status)||void 0===S?void 0:S.message)&&"string"==typeof T.post_status.message&&T.post_status.message})]}),"publish"==er&&(null==A?void 0:null===(I=A.user)||void 0===I?void 0:I.privilege_id)===1&&(0,n.jsxs)(o.NI,{isInvalid:!!T.post_publish_date,mb:4,children:[(0,n.jsx)(c.l,{children:"Publish Date"}),(0,n.jsx)(M,{name:"post_publish_date",control:P,rules:{required:"Please select the publish date"},render:e=>{let{field:t}=e;return(0,n.jsx)(ea(),{className:"bg-white dark:bg-gray-800 !w-[170px] !p-1",selected:eb,onChange:e=>{ej(e),L("post_publish_date",e)},timeInputLabel:"Time:",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:10,dateFormat:"dd-MM-yyyy HH:mm"})}}),(0,n.jsx)(u.J1,{children:(null===(N=T.post_publish_date)||void 0===N?void 0:N.message)&&"string"==typeof T.post_publish_date.message&&T.post_publish_date.message})]}),(0,n.jsxs)("div",{className:"mb-4 space-y-4",children:[(0,n.jsx)(m.z,{className:"w-full",onClick:()=>{R(),O()},children:"Set Feature Image"}),(0,n.jsx)("p",{className:"text-sm italic text-red-500",children:(null===(D=T.feature_img)||void 0===D?void 0:D.message)&&"string"==typeof T.feature_img.message&&T.feature_img.message}),X&&(0,n.jsx)(J.default,{src:X,className:"w-full rounded-md",alt:"featured image",width:200,height:120}),(0,n.jsx)(m.z,{colorScheme:"red",type:"submit",className:"w-full capitalize",isLoading:H,onClick:()=>{let e=document.getElementById("post_slug_input");e&&L("post_slug",e.value,{shouldValidate:!0})},children:eS?"Update":er||"Draft"})]})]})]})}},82645:function(e,t,s){s.d(t,{Z:function(){return f}});var n=s(57437),a=s(2265),r=s(19383),i=s(48860),l=s(34096),o=s(49270),c=s(27924),d=s(16152),u=s(25810),m=s(10883),p=s(20517),h=s(61273),g=s(25957),x=s(33145);s(98983);var v=s(33289);function f(e){let{isOpen:t,register:s,onClose:f,setValue:b}=e,{openMedia:j,focalPoint:w,seletectedImage:y,setSeletectedImage:k,setFocalPoint:_}=(0,g.G)();return a.useEffect(()=>{y&&b("feature_img",y,{shouldValidate:!0})},[y,b]),(0,n.jsxs)(r.u_,{size:"xl",isOpen:t,onClose:f,scrollBehavior:"inside",children:[(0,n.jsx)(i.Z,{}),(0,n.jsxs)(l.h,{width:{base:"full",md:"70%"},height:{base:"full",md:"80%"},maxWidth:"none",overflowX:"auto",children:[(0,n.jsx)(o.x,{children:"Set Feature Image"}),(0,n.jsx)(c.o,{}),(0,n.jsx)(d.f,{children:(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)("div",{className:"grid grid-rows-1 lg:grid-cols-10",children:[(0,n.jsx)(u.z,{leftIcon:(0,n.jsx)(h.K7z,{}),colorScheme:"blue",variant:"outline",onClick:()=>{j(),f()},className:"col-span-2",children:"From Gallery"}),(0,n.jsx)("p",{className:"col-span-2 text-xl font-semibold text-center",children:"or From URL"}),(0,n.jsx)(m.I,{placeholder:"Input External Image URL",className:"col-span-6",value:y,...s("feature_img"),onChange:e=>k(e.target.value)})]}),(0,n.jsx)("div",{className:"grid grid-rows-1 gap-4 my-5 lg:grid-cols-5",children:y&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"col-span-4",children:[(0,n.jsx)(v.U,{src:"".concat(y,"/800"),className:"!w-2/3 !h-full mx-auto",onChange:e=>{_(e)},classes:{image:"rounded-md"}}),(0,n.jsx)("p",{className:"mt-1 text-xs italic text-center",children:"drag point to adjust thumbnail"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(x.default,{src:"".concat(y,"/300"),className:"object-none rounded-md mx-auto w-[200px] h-[120px]",alt:"Selected",width:200,height:120,style:{objectPosition:"".concat(null==w?void 0:w.x,"% ").concat(null==w?void 0:w.y,"%")}}),(0,n.jsx)("p",{className:"mt-2 text-sm font-semibold",children:"Thumbnail Preview"})]})]})}),(0,n.jsx)(m.I,{placeholder:"Caption Foto",...s("post_images_title"),my:5})]})}),(0,n.jsx)(p.m,{textAlign:"center",children:(0,n.jsx)(u.z,{mx:"auto",colorScheme:"red",onClick:f,children:"Submit"})})]})]})}},48448:function(e,t,s){s.d(t,{H:function(){return r},v:function(){return a}});var n=s(40257);let a=async e=>{try{if(!n.env.NEXT_PUBLIC_ELK_ENABLED||"true"!==n.env.NEXT_PUBLIC_ELK_ENABLED)return;(await fetch("/api/log-error",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"api_error",error:{message:"API Error: ".concat(e.method," ").concat(e.url," returned ").concat(e.status),name:"APIError",stack:"API Error Details:\nMethod: ".concat(e.method,"\nURL: ").concat(e.url,"\nStatus: ").concat(e.status,"\nStatus Text: ").concat(e.statusText||"Unknown","\nRequest Data: ").concat(JSON.stringify(e.requestData,null,2),"\nResponse Data: ").concat(JSON.stringify(e.responseData,null,2))},url:window.location.href,userAgent:navigator.userAgent,userId:e.userId,sessionId:e.sessionId,additionalContext:{...e.additionalContext,apiMethod:e.method,apiUrl:e.url,apiStatus:e.status,apiStatusText:e.statusText,requestPayload:e.requestData,responsePayload:e.responseData}})})).ok}catch(e){}},r=async(e,t)=>{try{if(!n.env.NEXT_PUBLIC_ELK_ENABLED||"true"!==n.env.NEXT_PUBLIC_ELK_ENABLED)return;(await fetch("/api/log-error",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"frontend_error",error:{message:e.message,name:e.name,stack:e.stack,digest:e.digest},url:window.location.href,userAgent:navigator.userAgent,additionalContext:t})})).ok}catch(e){}}},89427:function(e,t,s){s.d(t,{Z:function(){return a}});var n=s(83464);async function a(e,t,s,a){try{let r;return r="GET"==e?{validateStatus:()=>!1,method:e,headers:a,url:t,params:s}:{validateStatus:()=>!1,method:e,headers:a,url:t,data:s},await (0,n.Z)(r).catch(e=>e.response)}catch(e){return{data:e,status:500,statusText:"Internal Server Error",headers:{},config:{}}}}}}]);