(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3541],{42480:function(){},53622:function(e,t,a){Promise.resolve().then(a.t.bind(a,65878,23)),Promise.resolve().then(a.bind(a,81523)),Promise.resolve().then(a.bind(a,70049)),Promise.resolve().then(a.bind(a,5529))},81523:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let r=a(18993);function s(e){let{reason:t,children:a}=e;if("undefined"==typeof window)throw new r.BailoutToCSRError(t);return a}},70049:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return n}});let r=a(57437),s=a(20544);function n(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let a=(0,s.getExpectedRequestStore)("next/dynamic css"),n=[];if(a.reactLoadableManifest&&t){let e=a.reactLoadableManifest;for(let a of t){if(!e[a])continue;let t=e[a].files.filter(e=>e.endsWith(".css"));n.push(...t)}}return 0===n.length?null:(0,r.jsx)(r.Fragment,{children:n.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:a.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},5529:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return U}});var r=a(57437),s=a(2265),n=a(71594),i=a(24525),l=a(69340),d=a(58055),o=a(60187),c=a(25730),u=a(25810),m=a(72499),h=a(12125),x=a(10883),g=a(68193),p=a(307),f=a(49089),b=a(67776),v=a(89427),y=a(80605),j=a(99376),w=a(25103),N=a.n(w),C=a(27648),k=a(43118),S=a(78796),_=a(26553),P=a(48860),A=a(49270),D=a(16152),E=a(20517);function z(e){let{isOpen:t,setIsUpdate:a,session:n,id:i,title:l,onClose:d}=e,o=s.useRef(null),c=(0,S.p)(),[m,h]=s.useState(!1),x=async()=>{var e,t,r,s;if(!i)return;h(!0);let l=await (0,v.Z)("DELETE","".concat("https://api_cms_uzone.satudev.net/","api/v1/pvbooster/?pvbooster_id=").concat(i),{},{accept:"application/json",Authorization:"Bearer ".concat(null==n?void 0:null===(e=n.user)||void 0===e?void 0:e.access_token)});if(h(!1),200==l.status)a(Math.random()),d(),c({title:"Success",description:(null===(t=l.data)||void 0===t?void 0:t.message)||"Deleted",status:"success",duration:7e3,position:"top",isClosable:!0});else{let e=null===(r=l.data)||void 0===r?void 0:r.detail;c({title:"Error",description:Array.isArray(e)?e.map(e=>"".concat((e.loc||[]).join(" -> "),": ").concat(e.msg)).join(", "):(null===(s=l.data)||void 0===s?void 0:s.message)||"Unknown error",status:"error",duration:7e3,position:"top",isClosable:!0})}};return(0,r.jsx)(_.a,{isOpen:t,leastDestructiveRef:o,onClose:d,children:(0,r.jsx)(P.Z,{children:(0,r.jsxs)(_._,{children:[(0,r.jsx)(A.x,{fontSize:"lg",fontWeight:"bold",children:"Delete Data"}),(0,r.jsxs)(D.f,{children:["Are you sure you want to delete ",(0,r.jsx)("b",{children:l}),"?"]}),(0,r.jsxs)(E.m,{children:[(0,r.jsx)(u.z,{ref:o,onClick:d,children:"Cancel"}),(0,r.jsx)(u.z,{colorScheme:"red",onClick:()=>x(),isLoading:m,ml:3,children:"Delete"})]})]})})})}function L(){let e=(0,j.useRouter)(),[t,a]=s.useState(0),[w,S]=s.useState(""),[_,P]=s.useState([]),[A,D]=s.useState(!0),[E,L]=s.useState(0),[U,M]=s.useState(null),[R,O]=s.useState(""),{data:I}=(0,y.useSession)(),{isOpen:Z,onOpen:B,onClose:T}=(0,l.q)(),F=(0,s.useMemo)(()=>{let e=w.trim().toLowerCase();return e?_.filter(t=>t.url.toLowerCase().includes(e)||(t.description||"").toLowerCase().includes(e)):_},[_,w]),G=(0,s.useMemo)(()=>{let e=10*E;return F.slice(e,e+10)},[F,E]),q=(0,n.b7)({data:G,columns:[{header:"URL",accessorKey:"url"},{header:"Description",accessorFn:e=>e.description||"-"},{header:"Status",accessorFn:e=>1==e.is_active?"Active":"Inactive",id:"status_text",cell:e=>{let{getValue:t}=e,a=t(),s="Active"===a;return(0,r.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(s?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:a})}},{header:"Updated At",accessorFn:e=>{let t=e.updated_at;if(!t)return"-";let a=new Date(t.endsWith("Z")?t:"".concat(t,"Z"));return isNaN(a.getTime())?t:a.toISOString().replace("T"," ").substring(0,19)},id:"updated_at_text"},{header:"Action",id:"action",cell:t=>{let{row:a}=t,{id:s,url:n}=a.original;return(0,r.jsxs)(d.U,{spacing:"4",children:[(0,r.jsx)(o.u,{label:"Edit","aria-label":"Edit tooltip",children:(0,r.jsx)(c.h,{size:"sm",icon:(0,r.jsx)(b.FNg,{className:"w-5 h-5"}),"aria-label":"Edit",colorScheme:"blue",onClick:()=>e.push("/dashboard/ads/pv-booster/edit?id=".concat((0,k.P)(String(s))))})}),(0,r.jsx)(o.u,{label:"Delete","aria-label":"Delete tooltip",children:(0,r.jsx)(c.h,{size:"sm",icon:(0,r.jsx)(b.v_0,{className:"w-5 h-5"}),"aria-label":"Delete",colorScheme:"red",onClick:()=>{M(s),O(n),B()}})})]})}}],getCoreRowModel:(0,i.sC)(),manualPagination:!0,pageCount:Math.ceil(F.length/10)});return s.useEffect(()=>{(async()=>{if(I){D(!0);try{var e,t,a;let r=await (0,v.Z)("GET","".concat("https://api_cms_uzone.satudev.net/","api/v1/pvbooster/"),{page:1,page_size:100},{accept:"application/json",Authorization:"Bearer ".concat(null==I?void 0:null===(e=I.user)||void 0===e?void 0:e.access_token)});if(200===r.status&&(null===(a=r.data)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.items)){let e=(r.data.data.items||[]).map(e=>{var t;return{id:String(e.id),url:(e.url||"").trim()||"https://uzone.id/?utm_source=internetpositifid&utm_medium=uzone",description:(e.description||"").toString(),is_active:Number(null!==(t=e.is_active)&&void 0!==t?t:1),created_at:e.created_at||"",updated_at:e.updated_at||""}});P(e)}else P([])}finally{D(!1)}}})()},[t,I]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z,{isOpen:Z,onClose:T,session:I,id:U,title:R,setIsUpdate:a}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"grid items-center justify-between grid-cols-2",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4 space-x-2 lg:mb-0",children:[(0,r.jsx)(C.default,{href:"/dashboard/ads/pv-booster/new",children:(0,r.jsx)(u.z,{colorScheme:"teal",isDisabled:_.length>=5,children:"Add New"})}),_.length>=5&&(0,r.jsxs)(m.C,{colorScheme:"yellow",children:["Max ",5," items"]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("div",{className:"m-2",children:(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)(h.B,{size:"md",children:[(0,r.jsx)(x.I,{pr:"4rem",type:"text",bg:"white",placeholder:"search URL or description",onChange:e=>{L(0),S(e.target.value)}}),(0,r.jsx)(g.x,{children:(0,r.jsx)(u.z,{size:"sm",children:(0,r.jsx)(f.U41,{className:"text-black dark:text-gray-700"})})})]})})})})})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-[900px] md:min-w-full mt-5 overflow-hidden text-sm bg-white border border-gray-200 divide-y divide-gray-200 rounded-lg shadow-md dark:bg-gray-700",children:[(0,r.jsx)("thead",{className:"bg-white dark:bg-gray-800",children:q.getHeaderGroups().map(e=>(0,r.jsx)("tr",{className:"text-xs font-semibold tracking-wider text-left text-gray-500 uppercase dark:text-white",children:e.headers.map(e=>{var t,a;return(0,r.jsx)("th",{className:"px-6 py-3",children:e.isPlaceholder?null:"string"==typeof e.column.columnDef.header?e.column.columnDef.header:null===(t=(a=e.column.columnDef).header)||void 0===t?void 0:t.call(a,e.getContext())},e.id)})},e.id))}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200 dark:bg-gray-700",children:A?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:5,className:"px-6 py-2 text-center text-gray-500",children:(0,r.jsx)(p.E,{colorScheme:"red",size:"xs",isIndeterminate:!0})})}):0===G.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:5,className:"px-6 py-2 text-center text-gray-500",children:"No data available"})}):q.getRowModel().rows.map(e=>(0,r.jsx)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:e.getVisibleCells().map(e=>(0,r.jsx)("td",{className:"px-6 py-2 whitespace-nowrap",children:"function"==typeof e.column.columnDef.cell?e.column.columnDef.cell(e.getContext()):e.renderValue()},e.id))},e.id))})]})})]}),(0,r.jsx)(N(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:Math.ceil(F.length/10),marginPagesDisplayed:1,pageRangeDisplayed:3,onPageChange:e=>{L(e.selected)},containerClassName:"flex justify-end items-center mt-4",pageClassName:"mx-1",pageLinkClassName:"px-3 py-2 border rounded-md text-sm text-gray-700 dark:text-white hover:bg-gray-200",previousLinkClassName:"px-3 py-2 ml-0 leading-tight text-gray-700 bg-white dark:text-white dark:bg-gray-700 rounded-l-md border border-gray-300 text-sm hover:bg-gray-200",nextLinkClassName:"px-3 py-2 leading-tight text-sm text-gray-700 bg-white dark:text-white dark:bg-gray-700 rounded-r-md border border-gray-300 hover:bg-gray-200",breakClassName:"mx-1",breakLinkClassName:"px-3 py-2 border rounded-md text-sm text-gray-700 dark:text-white",activeLinkClassName:"bg-blue-500 text-white",disabledClassName:"opacity-50 cursor-not-allowed",renderOnZeroPageCount:null})]})}function U(){return(0,r.jsxs)("div",{className:"px-4 pt-6",children:[(0,r.jsx)("div",{className:"grid items-center justify-between grid-cols-2",children:(0,r.jsx)("div",{className:"flex items-center mb-4 lg:mb-0",children:(0,r.jsx)("h3",{className:"mb-2 text-xl font-bold text-gray-900 dark:text-white",children:"PV Booster"})})}),(0,r.jsxs)("div",{className:"p-4 mb-5 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 sm:p-6 dark:bg-gray-800",children:[(0,r.jsx)("div",{className:"items-center justify-between lg:flex",children:(0,r.jsx)("div",{className:"flex items-center mb-4 lg:mb-0"})}),(0,r.jsx)(L,{})]})]})}},43118:function(e,t,a){"use strict";a.d(t,{A:function(){return i},P:function(){return n}});var r=a(80928),s=a.n(r);function n(e){return encodeURIComponent(s().AES.encrypt(e.toString(),"c2c9cfa669c5a7fd065c694e3c112f1aec09401e895ad77f72255158b9847d58").toString())}function i(e){return s().AES.decrypt(decodeURIComponent(e),"c2c9cfa669c5a7fd065c694e3c112f1aec09401e895ad77f72255158b9847d58").toString(s().enc.Utf8)}},89427:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(83464);async function s(e,t,a,s){try{let n;let i={"User-Agent":"UZone-CMS-Client/1.0 (+https://uzone.id)",...s};return s&&(s["User-Agent"]||s["user-agent"])&&(delete i["User-Agent"],i["User-Agent"]=s["User-Agent"]||s["user-agent"]),n="GET"==e?{validateStatus:()=>!1,method:e,headers:i,url:t,params:a}:{validateStatus:()=>!1,method:e,headers:i,url:t,data:a},await (0,r.Z)(n).catch(e=>e.response)}catch(e){return{data:e,status:500,statusText:"Internal Server Error",headers:{},config:{}}}}},58055:function(e,t,a){"use strict";a.d(t,{U:function(){return i}});var r=a(93088),s=a(68973),n=a(57437),i=(0,s.G)((e,t)=>(0,n.jsx)(r.K,{align:"center",...e,direction:"row",ref:t}));i.displayName="HStack"},72499:function(e,t,a){"use strict";a.d(t,{C:function(){return o}});var r=a(68973),s=a(9889),n=a(83707),i=a(41531),l=a(14096),d=a(57437),o=(0,r.G)(function(e,t){let a=(0,s.mq)("Badge",e),{className:r,...o}=(0,n.Lr)(e);return(0,d.jsx)(i.m.span,{ref:t,className:(0,l.cx)("chakra-badge",e.className),...o,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...a}})});o.displayName="Badge"},78796:function(e,t,a){"use strict";a.d(t,{p:function(){return l}});var r=a(81760),s=a(66923),n=a(68494),i=a(2265);function l(e){let{theme:t}=(0,n.uP)(),a=(0,r.OX)();return(0,i.useMemo)(()=>(0,s.Cj)(t.direction,{...a,...e}),[e,t.direction,a])}}},function(e){e.O(0,[7699,1994,9439,2434,5878,7201,1760,3314,9611,6448,4959,920,7648,2971,2117,1744],function(){return e(e.s=53622)}),_N_E=e.O()}]);