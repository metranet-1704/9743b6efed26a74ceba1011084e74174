(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3779],{42480:function(){},75475:function(e,t,a){Promise.resolve().then(a.t.bind(a,65878,23)),Promise.resolve().then(a.bind(a,81523)),Promise.resolve().then(a.bind(a,70049)),Promise.resolve().then(a.bind(a,48285))},48285:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var s=a(57437),i=a(2265),n=a(40559),c=a(29501),r=a(89427),o=a(80605),d=a(78796),u=a(43118),l=a(99376);function m(){let{register:e,handleSubmit:t,reset:a,setValue:m,formState:{errors:v}}=(0,c.cI)({defaultValues:{status:"active",active:"active"}}),[f,p]=i.useState(!1),{data:b}=(0,o.useSession)(),h=(0,d.p)(),g=(0,l.useRouter)(),x=(0,l.useSearchParams)(),_=(0,u.A)(x.get("aa"))||"",j=async e=>{var t,a,s;p(!0),""===e.password&&delete e.password,delete e.status,delete e.active;let i=await (0,r.Z)("PUT","".concat("https://api_cms_uzone.satudev.net/","api/v1/users/?user_id=").concat(_),e,{accept:"application/json",Authorization:"Bearer ".concat(null==b?void 0:null===(t=b.user)||void 0===t?void 0:t.access_token)});200===i.status?(h({title:"Success",description:i.data.message,status:"success",duration:5e3,isClosable:!0,position:"top"}),g.push("/dashboard/users/list")):(h({title:"Failed to create data",description:null==i?void 0:null===(s=i.data)||void 0===s?void 0:null===(a=s.detail)||void 0===a?void 0:a.map(e=>"".concat(e.loc.join(" -> "),": ").concat(e.msg)).join(", "),status:"error",duration:7e3,isClosable:!0,position:"top"}),p(!1))};return i.useEffect(()=>{let e=async()=>{var e;let t=await (0,r.Z)("GET","".concat("https://api_cms_uzone.satudev.net/","api/v1/users/?user_id=").concat(_),{},{accept:"application/json",Authorization:"Bearer ".concat(null==b?void 0:null===(e=b.user)||void 0===e?void 0:e.access_token)});if(200===t.status){let e=t.data.data;a({username:e.username,email:e.email,first_name:e.first_name,last_name:e.last_name,password:"",phone:e.phone,ubis:e.ubis,avatar:e.avatar,status:e.status||"active",active:e.active||e.status||"active"})}};b&&e()},[b,_,a]),(0,s.jsxs)("div",{className:"px-4 pt-6",children:[(0,s.jsx)("div",{className:"grid items-center justify-between grid-cols-2",children:(0,s.jsx)("div",{className:"flex items-center mb-4 lg:mb-0",children:(0,s.jsx)("h3",{className:"mb-2 text-xl font-bold text-gray-900 dark:text-white",children:"Edit User"})})}),(0,s.jsxs)("div",{className:"max-w-3xl p-4 mx-auto mt-5 bg-white border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 sm:p-6 dark:bg-gray-800",children:[(0,s.jsx)("div",{className:"items-center justify-between lg:flex",children:(0,s.jsx)("div",{className:"flex items-center mb-4 lg:mb-0"})}),(0,s.jsx)("form",{onSubmit:t(j),children:(0,s.jsx)(n.Z,{register:e,errors:v,loading:f,isEditMode:!0,setValue:m})})]})]})}},43118:function(e,t,a){"use strict";a.d(t,{A:function(){return c},P:function(){return n}});var s=a(80928),i=a.n(s);function n(e){return encodeURIComponent(i().AES.encrypt(e.toString(),"c2c9cfa669c5a7fd065c694e3c112f1aec09401e895ad77f72255158b9847d58").toString())}function c(e){return i().AES.decrypt(decodeURIComponent(e),"c2c9cfa669c5a7fd065c694e3c112f1aec09401e895ad77f72255158b9847d58").toString(i().enc.Utf8)}}},function(e){e.O(0,[9439,2434,5878,7201,1760,3314,819,9611,3477,2971,2117,1744],function(){return e(e.s=75475)}),_N_E=e.O()}]);